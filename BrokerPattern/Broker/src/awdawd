package API;

public class BrokerManager {
    //Broker{
    //  name = 1;
        String host = "localhost";
        int port = 1111;
    //  default = true;
    //}
    
    public Conexion conectarAlBroker(){
        //File brokerConfig = new File();
        Conexion con = new Conexion(port,host);
        return con;
    }
    
    public void registrarServicio(int puerto, String nombre){
        
    }
    
    public void cambiarEstadoServicio(String nombrem, boolean estado){
        
    }
    

    

}

package API;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.PrintWriter;
import java.net.Socket;

public class Conexion {
    PrintWriter out;
    BufferedReader in;
    Socket socket;
    int puerto;
    String host;
    
    public Conexion(int puerto, String host){
        this.puerto = puerto;
        this.host = host;
    }
    
    public void open() throws IOException{
        socket = new Socket(host,puerto);        
        out = new PrintWriter(socket.getOutputStream(),true);
        in = new BufferedReader(new InputStreamReader(socket.getInputStream()));
        
        System.out.println(in.readLine()); // Saludo inicial
    }
      
    public boolean existeServicio(String nombre){
        out.println(nombre);
        
        
        return false;
    }
    
    public void ejecutarServicio(String nombre, String datosJson){
        
    }
    
}
